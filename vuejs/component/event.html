<!DOCTYPE html>
<html lang="zh-Hans">

<head>
  <meta charset="utf-8">
  <title>组件自定义事件</title>
  <script src="../../lib/vue/dist/vue.js"></script>
</head>

<body>
  <div id="app">
    <p>{{total}}</p>
    <btn-conunter @increment="incrementTotal"></btn-conunter>
    <btn-conunter @increment="incrementTotal"></btn-conunter>
  </div>
  <script>
  Vue.component('btn-conunter', {
    template: '<button @click="increment">{{counter}}</button>',
    data: function() {
      return {
        counter: 0
      }
    },
    methods: {
      increment: function() {
        this.counter += 1
        this.$emit('increment')
      }
    }
  })

  new Vue({
    el: '#app',
    data: {
      total: 0
    },
    methods: {
      incrementTotal: function() {
        this.total += 1
      }
    }
  })
  </script>
</body>

</html>
